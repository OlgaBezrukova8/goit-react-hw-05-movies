"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[633],{1633:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(885),a=n(2791),c=n(501),u=n(6871),o=n(5264),i=n(7897),s=n(7656);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=n(7779),m="SearchForm_input__HOxJo",v="SearchForm_button__UXY06 MovieDetailsPage_button__mSHH6",g=n(184),b=function(e){var t=e.onSubmit,n=(0,a.useState)({search:""}),c=(0,r.Z)(n,2),u=c[0],o=c[1];return(0,g.jsxs)("form",{className:h.Z.container,onSubmit:function(e){e.preventDefault(),t(l({},u)),o({search:""})},children:[(0,g.jsx)("input",{className:m,onChange:function(e){var t=e.target,n=t.name,r=t.value;o(l(l({},u),{},f({},n,r)))},name:"search",value:u.search,placeholder:"Enter a movie title",required:!0}),(0,g.jsx)("button",{className:v,children:"Search"})]})},_="MoviesPage_list__PJZqT HomePage_list__99c8-",d="MoviesPage_item__3en+6 HomePage_item__PHN05",y=function(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],f=t[1],p=(0,a.useState)(null),l=(0,r.Z)(p,2),m=l[0],v=l[1],y=(0,a.useState)(!1),w=(0,r.Z)(y,2),j=w[0],x=w[1],O=(0,c.lr)(),P=(0,r.Z)(O,2),S=P[0],k=P[1],Z=S.get("search"),N=(0,u.TH)();return(0,a.useEffect)((function(){Z&&(x(!0),(0,i.l_)(Z).then((function(e){f(e),x(!1)})).catch((function(e){v({error:e}),x(!1)})))}),[Z]),(0,g.jsx)(g.Fragment,{children:j?(0,g.jsx)(s.a,{}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b,{onSubmit:function(e){var t=e.search;k({search:t})}}),m&&o.Notify.failure("Ooops, something went wrong ".concat(m.message,". Please, reload the page")),n.length>0&&(0,g.jsx)("div",{className:h.Z.container,children:(0,g.jsx)("ul",{className:_,children:n.map((function(e){var t=e.id,n=e.title;return(0,g.jsx)("li",{children:(0,g.jsx)(c.rU,{className:d,state:{from:N},to:"/movies/".concat(t),children:n})},t)}))})})]})})}},7897:function(e,t,n){n.d(t,{CN:function(){return h},CP:function(){return s},Si:function(){return p},l_:function(){return f},v_:function(){return l}});var r=n(5861),a=n(7757),c=n.n(a),u=n(4569),o=n.n(u),i="efb495fff3706abe3c98fcab5615ca8d";o().defaults.baseURL="https://api.themoviedb.org/3";var s=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/trending/movie/day?api_key=".concat(i));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/search/movie?api_key=".concat(i,"&language=en-US&query=").concat(t,"&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/movie/".concat(t,"?api_key=").concat(i,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/movie/".concat(t,"/credits?api_key=").concat(i,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/movie/".concat(t,"/reviews?api_key=").concat(i,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},7779:function(e,t){t.Z={container:"Container_container__VVOCq"}}}]);
//# sourceMappingURL=633.e0b023a2.chunk.js.map